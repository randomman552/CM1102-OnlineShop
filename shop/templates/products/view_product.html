{% extends 'layout.html' %}

{% block head %}
    <title>{{ product.name }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/view_product.css')}}">
    <script defer type="text/javascript" src="{{ url_for('static', filename='js/slideshow.js') }}"></script>
    <script defer type="text/javascript" src="{{ url_for('static', filename='js/product-edit.js') }}"></script>
{% endblock %}

{% block content %}
    {% if product != None %}
        <div class="product main_container">
            <div class="product description name">
                <span id="name">{{ product.name }}</span>
            </div>
            <div class="product row">
                <div class="product image container" onmouseover="slideShowControlsState(true)" onmouseout="slideShowControlsState(false)">
                    <div class="product image">
                        <!-- Picture slideshow -->
                        {% for picture in pictures %}
                            <div class="slide-content">
                                <img src="{{ url_for( 'static', filename=picture.URL) }}" alt="Product Image" onmouseover="slideShowPause()" onmouseout="slideShowResume()">
                            </div>
                        {% endfor %}
                        <a id="slideshow-prev" class="prev" onclick="slideMov(-1)">&#10094;</a>
                        <a id="slideshow-next" class="next" onclick="slideMov(1)">&#10095;</a>
                    </div>
                    <div class="product image selector">
                        {% for i in range(pictures|length) %}
                            <div class="slide-selector">
                                <img src="{{ url_for( 'static', filename=pictures[i].URL) }}" alt="Thumbnail">
                                <div onclick="slideJmp({{i}})" class="slide-selector overlay"></div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="product description container">
                    <div class="product description title">
                        description
                    </div>
                    <div class="product description text">
                        <span id="description">{{ product.description }}</span>
                    </div>
                </div>
                <div class="product purchase">
                    <div class="product price">
                        <span id="price" style="width: 100%;">{{ product.price }}</span>
                    </div>
                    <div class="product rating">
                        <div class="rating-container">

                            <!-- TODO: Implement ratings system -->
                            <div class="star full"></div>
                            <div class="star full"></div>
                            <div class="star full"></div>
                            <div class="star half"></div>
                            <div class="star empty"></div>
                            <div class="star number">5</div>
                        </div>
                    </div>
                    <button class="green-confirm">
                        Add to cart
                    </button>
                    <button>
                        Add to wishlist
                    </button>
                </div>
            </div>
            <div class="product row">
                <div class="review title">
                    Reviews
                </div>
            </div>
            
        </div>
    {% else %}
        <h1>The requested product does not exist.</h1>
    {% endif %}
{% endblock %}